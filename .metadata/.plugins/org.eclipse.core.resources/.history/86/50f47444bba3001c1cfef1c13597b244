package com.fran.Hibernate2;

import org.hibernate.Query;
import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.cfg.Configuration;
import org.hibernate.mapping.List;

/**
 * Hello world!
 *
 */
public class App 
{
    public static void main( String[] args )
    {
    	@SuppressWarnings("unused")
    	org.jboss.logging.Logger logger
    		= org.jboss.logging.Logger.getLogger("org.hibernate");
    	java.util.logging.Logger.getLogger("org.hibernate")
    			.setLevel(java.util.logging.Level.SEVERE);
    	
    	SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();
    	Session session = sessionFactory.openSession();
    	if (session != null) {
    		System.out.println("Sesi贸n Abierta");
    	} else {
    		System.out.println("Fallo en la sesi贸n");
    	}
    	
    	if(session!=null) {
    		System.out.println("Sesi贸n abierta");
    		}
    		else {
    		System.out.println("Fallo en la sesi贸n");
    		}
    		Query<Libros > consulta = session.createQuery("from Libros"); 
    		List<Libros > resultados = consulta.list();
    		for (Object resultado : resultados) {
	    		Libros libro = (Libros) resultado; System.out.println(libro.getId() + ": "
	    		+ libro.getTitulo() + ", de " + libro.getAutores().getNombre();
    		}
    		session.close();
    	
    	
    }
}
