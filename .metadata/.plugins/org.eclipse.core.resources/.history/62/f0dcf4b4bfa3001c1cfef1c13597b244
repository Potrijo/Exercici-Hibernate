package com.fran.Hibernate2;

import java.util.List;
import java.util.Scanner;
import org.hibernate.Query;
import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.Transaction;
import org.hibernate.cfg.Configuration; 

public class App {
	static Scanner teclado; 
	
	public static void mostrarLibros() {
		 SessionFactory sessionFactory = new
		 Configuration().configure().buildSessionFactory();
		 Session session = sessionFactory.openSession();
		 if (session != null) {
		 System.out.println("Sesión abierta");
		 } else {
		 System.out.println("Fallo en la sesión");
		 }
		 Query<Libros> consulta = session.createQuery("from Libros");
		 List<Libros> resultados = consulta.list();
		 for (Object resultado : resultados) {
		 Libros libro = (Libros) resultado;
		 System.out.println(libro.getId() + ": " + libro.getTitulo() + ", de " +
		libro.getAutores().getNombre());
		 }
		 session.close();
		 }
}
	
	
    /*public static void main( String[] args )
    {
    	@SuppressWarnings("unused")
    	org.jboss.logging.Logger logger
    		= org.jboss.logging.Logger.getLogger("org.hibernate");
    	java.util.logging.Logger.getLogger("org.hibernate")
    			.setLevel(java.util.logging.Level.SEVERE);
    	
    	SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();
    	Session session = sessionFactory.openSession();
    	if (session != null) {
    		System.out.println("Sesión Abierta");
    	} else {
    		System.out.println("Fallo en la sesión");
    	}
    	
    	if(session!=null) {
    		System.out.println("Sesión abierta");
    		}
    		else {
    		System.out.println("Fallo en la sesión");
    		}
    		Query<Libros > consulta = session.createQuery("from Libros"); 
    		List<Libros > resultados = consulta.list();
    		for (Object resultado : resultados) {
	    		Libros libro = (Libros) resultado; 
	    		System.out.println(libro.getId() + ": "
	    				+ libro.getTitulo() + ", de " 
	    				+ libro.getAutores().getNombre());
    		}
    		session.close();
    	
    	
    }   PARTE 1    */
	

